/**
 * SelectC8 jQuery
 * @Copyright: Alan Mtz & Rene Mtz
 * https://github.com/jacms
 * @version 1.0.0
 * @author jacms & reneezy
 */
!function($){"use strict";$.fn.SelectC8=function(options){let self=this;if(0===$(self).length)return;if(!self.is("select"))return;let defaults={data:null,valueProperty:"",textProperty:"",dataExtended:null,selectedValue:null,assignWithoutProperties:!1,appendDefaultFirstOption:!0,defaultFirstOptionValue:"",defaultFirstOptionText:"-- Select option --",onChange:null,onSuccess:function(){return!1}},settings=$.extend(defaults,options);function clearControl(){self.empty()}function appendDefaultOption(){!0===settings.appendDefaultFirstOption&&self.append($("<option>",{value:settings.defaultFirstOptionValue,text:settings.defaultFirstOptionText}))}function getPropertyValues(){let values=[];return settings.data.forEach(object=>{let optionValue;optionValue=!1===settings.assignWithoutProperties?{value:object[settings.valueProperty],text:object[settings.textProperty]}:{value:object,text:object},settings.dataExtended&&void 0!==object[settings.dataExtended]&&(optionValue[settings.dataExtended]=object[settings.dataExtended]),values.push(optionValue)}),values}function selectedValue(){settings.selectedValue&&(self.val(settings.selectedValue),$("option",self).filter((function(){return this.value===settings.selectedValue})).prop("selected",!0))}function appendOptions(){if(!settings.data&&!Array.isArray(settings.data))return;let values;getPropertyValues().forEach(object=>{var $option=$("<option>",object);settings.dataExtended&&void 0!==object[settings.dataExtended]&&$option.data("extended",object[settings.dataExtended]),self.append($option)})}function setOnChange(){"function"==typeof settings.onChange&&(self.unbind("change.customSelect"),self.on("change.customSelect",(function(){settings.onChange(self)})))}let buildSelect=function(){clearControl(),appendDefaultOption(),appendOptions(),selectedValue(),setOnChange()},successfullResponse=function(){buildSelect(),settings.onSuccess(settings.data)};settings.data&&successfullResponse()}}(jQuery);